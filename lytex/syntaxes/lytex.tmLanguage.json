{
  "scopeName": "text.tex.lytex",
  "name": "LyTeX",
  "patterns": [
    { "include": "text.tex.latex" },

    {
      "name": "meta.embedded.block.lilypond.tex",
      "begin": "(?x)^\\s*(\\\\begin)\\s*\\{(lilypond)\\}",
      "beginCaptures": { "1": { "name": "support.function.general.tex" }, "2": { "name": "entity.name.section.lilypond.tex" } },
      "end": "(?x)^\\s*(\\\\end)\\s*\\{(lilypond)\\}",
      "endCaptures": { "1": { "name": "support.function.general.tex" }, "2": { "name": "entity.name.section.lilypond.tex" } },
      "contentName": "source.lilypond",
      "patterns": [ { "include": "source.lilypond" } ]
    },

    {
      "name": "meta.embedded.inline.lilypond.tex",
      "begin": "(\\\\lilypond)\\s*\\{",
      "beginCaptures": { "1": { "name": "support.function.general.tex" } },
      "end": "\\}",
      "contentName": "source.lilypond",
      "patterns": [ { "include": "source.lilypond" } ]
    },

    {
      "name": "support.function.lilypond.embed.command.tex",
      "match": "(\\\\(?:lilypondfile|musicxmlfile))\\s*\\{([^}]+)\\}",
      "captures": {
        "1": { "name": "support.function.general.tex" },
        "2": { "name": "string.unquoted.filename.tex" }
      }
    }
  ]
}
